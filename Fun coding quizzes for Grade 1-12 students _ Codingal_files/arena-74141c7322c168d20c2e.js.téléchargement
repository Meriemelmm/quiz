(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6703],{20640:function(e,t,n){"use strict";var r=n(5152),i=n(85893),o=(0,r.default)((function(){return n.e(4464).then(n.bind(n,64464))}),{loadableGenerated:{webpack:function(){return[64464]},modules:["../components/common/forms/input.tsx -> ../button"]}}),s=function(e){var t=e.labelSize?e.labelSize:"md";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-grey text-".concat(t," font-600"),children:e.label}),e.helpTextTop&&(0,i.jsx)("div",{className:"text-grey text-sm leading-4 font-400",children:e.helpTextTop}),(0,i.jsxs)("div",{className:"my-2 flex flex-row",children:[(0,i.jsx)("input",{className:"form-input w-full ".concat(e.disabled&&"bg-grey-100 text-grey-700"),id:e.id,autoComplete:e.autoComplete,name:e.name,type:e.type,placeholder:e.placeholder,value:e.value,required:e.required,onChange:e.onChange,onBlur:e.onBlur,onKeyUp:e.onKeyUp,autoFocus:e.autoFocus,disabled:e.disabled}),e.inlineBtnText&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mr-2"}),(0,i.jsx)(o,{text:e.inlineBtnText,disabled:!1,onClick:e.inlineBtnOnClick})]})]}),e.helpText&&(0,i.jsx)("div",{className:"text-grey text-sm leading-4 font-400",children:e.helpText}),e.errorText&&(0,i.jsx)("div",{className:"text-red-200 text-sm leading-4 font-400",children:e.errorText}),e.errorList&&e.errorList.map((function(e,t){return(0,i.jsx)("div",{"data-testid":"input-error",className:"text-red-200 text-sm leading-4 font-400",children:e},t)}))]})};s.defaultProps={type:"text",label:"",helpTextTop:"",helpText:"",errorText:"",errorList:[],placeholder:"",required:!1,inlineBtnText:"",inlineBtnOnClick:null,disabled:!1,autoComplete:""},t.Z=s},46e3:function(e,t,n){"use strict";var r=n(30266),i=n(809),o=n.n(i),s=n(81292),l=n(67294);t.Z=function(e){var t=e.playOnMount,n=void 0!==t&&t,i=e.pathToAudioFile,a=e.volumn,c=void 0===a?.1:a,u=e.loop,d=void 0===u||u,f=(0,l.useState)(n),m=f[0],p=f[1],x="undefined"!==typeof Audio&&new Audio((0,s.staticFile)(i)),h=(0,l.useMemo)((function(){return x}),[]),g=function e(){0===h.currentTime&&p(!0),document.removeEventListener("click",e)},b=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.volume=c,h.loop=d,e.prev=2,!m){e.next=9;break}return e.next=6,h.play();case 6:document.removeEventListener("click",g),e.next=11;break;case 9:h.pause(),h.currentTime=0;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),p(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){return b(),function(){return h.pause()}}),[m]),(0,l.useEffect)((function(){return n&&document.addEventListener("click",g),function(){return document.removeEventListener("click",g)}}),[]),{isBackgroundMusicOn:m,setIsBackgroundMusicOn:p}}},59028:function(e,t,n){"use strict";n.d(t,{VK:function(){return k},v_:function(){return O},w2:function(){return P},A0:function(){return C},S2:function(){return S},pZ:function(){return T},VY:function(){return E}});var r,i,o,s=n(92876),l=n(27484),a=n.n(l),c=n(10285),u=n.n(c),d=n(1646),f=n.n(d),m=n(66607),p=n.n(m),x=n(79212),h=n.n(x),g=n(37412),b=n.n(g),v=n(29387),y=n.n(v),w=n(70178),j=n.n(w);a().extend(p()),a().extend(f()),a().extend(u()),a().extend(h()),a().extend(b()),a().extend(j()),a().extend(y());var N=a(),k=N().format("YYYY"),O="hh:mm A [Z], MMM DD, YYYY",P="hh:mm A [Z]",C="ddd, MMM DD",S=null===(r=Intl)||void 0===r||null===(i=r.DateTimeFormat())||void 0===i||null===(o=i.resolvedOptions())||void 0===o?void 0:o.timeZone,T=function(e,t,n){var r=function(e){var t={"Pacific/Fiji":"FJT"};if(t[e])return t[e];var n=(new Date).toLocaleDateString("en-US",{timeZoneName:"long",timeZone:e});try{return n.split(",")[1].trim().match(/\b(\w)/g).join("")}catch(r){return(0,s.Tb)(r),console.error(r),"Local Time"}}(t),i=n.replace("Z",r);return N(e).tz(t).format(i)};function E(e){var t=e%864e5,n=e%36e5,r=e%6e4;return{day:Math.floor(e/864e5),hour:Math.floor(t/36e5),min:Math.floor(n/6e4),sec:Math.floor(r/1e3)}}t.ZP=N},22914:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return oe},default:function(){return se}});var r=n(36580),i=n(92809),o=n(43532),s=n(81472),l=n(94184),a=n.n(l),c=n(67294),u=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=["GO","1","2","3"],p=function(e){var t=e.setNextStep,n=e.numericCountDownSound,r=e.goCountDownSound,i=(0,c.useState)(3),l=i[0],d=i[1],p=(0,s.useTransition)(m[l],{from:{opacity:0,scaleY:0},enter:{opacity:1,scaleY:1},leave:{opacity:0,scaleY:0},config:{duration:200}});return(0,c.useEffect)((function(){l>1&&(0,o.playSound)(n);var e=setTimeout((function(){0===l?t():(1===l?(0,o.playSound)(r):(0,o.playSound)(n),d((function(e){return e-1})))}),1e3);return function(){return clearTimeout(e)}}),[l]),(0,u.jsx)("div",{className:"relative flex items-center justify-center h-screen",children:p((function(e,t){return(0,u.jsx)(s.q.div,{style:f(f({},e),{},{position:"absolute",backgroundColor:"#00000044"}),className:a()("text-center text-8xl w-full opacity-25 text-white",{"font-600":"GO"===t}),children:t})}))})},x=n(60313),h=n(20640),g=n(16623),b=n(41749),v=n(92876),y=function(e){var t=e.setNextStep,n=(0,c.useState)(""),r=n[0],i=n[1];return(0,u.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,u.jsxs)("form",{className:"flex flex-col bg-white rounded-lg p-6 w-80 lg:w-108 lg:p-10",onSubmit:function(e){e.preventDefault(),(0,b.pj)(g.AI,r,(function(){return v.uT("Failed to store to local storage. Key: ".concat(g.AI))})),t()},children:[(0,u.jsx)("p",{className:"text-grey font-600",children:"Your quiz name is..."}),(0,u.jsx)(h.Z,{id:"username-input",name:"username",onChange:function(e){return i(e.currentTarget.value)}}),(0,u.jsx)("button",{type:"submit",className:"btn btn-orange",children:"Start"})]})})},w=n(80318),j=n(30266),N=n(83789),k=n(809),O=n.n(k),P=n(81292),C=n(14928),S=function(e){var t=e.totalSteps,n=e.activeSlide,r=e.moveToNextSlide,i=e.isAnswerValidated,o=e.showProblemNumber,l=e.isPaused,d=(0,c.useState)(!0),f=d[0],m=d[1],p=(0,c.useState)(n),x=p[0],h=p[1],g=(0,c.useMemo)((function(){return Array.from({length:t},(function(e,t){return t}))}),[t]),b=function(){h((function(e){return e+1})),r()},v=(0,C.q_)((function(){return{from:{width:"0%"},config:{duration:5e3}}})),y=(0,w.Z)(v,2),j=y[0],N=y[1];return(0,c.useEffect)((function(){(n!==x||i&&l)&&m(!1)}),[n,l,i]),(0,c.useEffect)((function(){0!==n||i||(m(!0),h(0),N.update({from:{width:"0%"}}))}),[n,i]),(0,c.useEffect)((function(){var e=null;return i&&f?(e=setInterval((function(){b(),N.set({width:"0%"})}),5e3),N.update({to:{width:"100%"}}).start()):(clearInterval(e),N.set({width:"0%"})),function(){return clearInterval(e)}}),[i,f,b]),(0,u.jsx)("div",{className:a()("absolute bottom-0 mb-12 pb-1 right-0 left-0 mx-auto w-1/4 flex space-x-1 justify-center",{"opacity-0":o||!i||n<0}),children:g.map((function(e){return(0,u.jsx)("div",{className:a()("relative w-6 lg:w-10 h-2 rounded-md",{"bg-white":e<n,"bg-grey-700":e>=n}),children:(0,u.jsx)(s.q.div,{style:f&&e===n?j:e<=n?{width:"100%"}:{width:"0%"},className:"bg-white duration-75 h-full rounded-md"})},e)}))})},T=n(8056),E=n(61399),A=n(31960),Z=n(12424),q=n(41664),D=n(11163),I=n(66322),M=n(82371),z=function(e){var t=e.quizId,n=e.slug,i=e.quizTitle,o=e.remainingQuestions,l=e.points,a=e.isPaused,d=e.setIsPaused,f=e.totalProblems,m=e.isLessonQuiz,p=(0,A.T)().loggedIn,x=(0,c.useState)(!1),h=x[0],b=x[1],v=(0,C.Yz)(a,{from:{opacity:0,y:-1e3},enter:{opacity:1,y:0},leave:{opacity:0,y:-1e3},config:{duration:500}}),y=function(){var e=(0,j.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return b(!0),e.next=5,(0,Z.Ew)(t,n);case 5:D.default.reload();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v((function(e,t){return(0,u.jsx)(u.Fragment,{children:t&&(0,u.jsx)(s.q.div,{style:e,className:"absolute flex items-center justify-center w-full h-full",children:(0,u.jsxs)("div",{className:"flex flex-col p-6 mx-5 space-y-3 text-black bg-white rounded-lg lg:p-10",children:[(0,u.jsx)("h2",{className:"text-lg lg:text-2xl font-600",children:i}),(0,u.jsxs)("div",{className:"relative pt-6",children:[(0,u.jsx)(I.x1,{percent:100*(f-o)/f,strokeColor:"#4AAF50",trailColor:"#4AAF5066",strokeWidth:6,trailWidth:6}),(0,u.jsx)("img",{src:(0,P.staticFile)("".concat(g.mu,"arena/finish.svg")),className:"absolute top-0 right-0 -mr-2"}),(0,u.jsx)("img",{src:(0,P.staticFile)("".concat(g.mu,"arena/player.svg")),className:"absolute top-0 w-4 -ml-2 lg:ml-0",style:{left:"".concat(100*(f-o)/f,"%")}})]}),(0,u.jsxs)("p",{className:"font-600 lg:text-lg",children:[o," question",o>1&&"s"," ","remaining"]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(E.wY,{path:"".concat(g.mu,"details-page/"),name:"points",alt:"hand full of star",className:"w-8"}),(0,u.jsxs)("p",{className:"text-sm font-600 lg:text-base",children:["Points: ",l]})]}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,u.jsx)("button",{className:"mr-2 btn btn-orange",onClick:function(){return d(!1)},children:"Resume"}),p?(0,u.jsx)("button",{className:"btn text-orange hover:bg-orange-200 active:bg-orange-300",onClick:y,children:h?(0,u.jsx)(r.Z,{classes:"w-5"}):"Restart"}):(0,u.jsx)("button",{className:"mt-2 btn text-orange hover:bg-orange-200 active:bg-orange-300 lg:mt-0",onClick:Z.Uo,children:"Create account to save"})]}),(0,u.jsx)(q.default,{href:m?T.Z6.STUDENT_DASHBOARD_QUIZZES_LIST:T.Z6.QUIZZES_LIST,children:(0,u.jsxs)("a",{className:"flex space-x-2 text-orange hover:underline focus:outline-none font-600",children:[(0,u.jsx)(M.Z,{}),(0,u.jsx)("span",{children:m?"Back to dashboard":"Back to quizzes"})]})})]})})})}))},B=n(51947),L=n(46445);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.buttonBgColor,n=e.content,r=e.onClick,i=e.keyupTriggerKey,o=e.isSelected,l=e.isLoading,d=e.isAnswerValidated,f=e.isCorrect,m=e.problemType;(0,c.useEffect)((function(){var e=function(e){e.key===i&&r()};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}),[]);var p=(0,C.q_)({width:o&&l?"100%":"0%",config:{duration:1e4},pause:!l}),x=(0,c.useMemo)((function(){return d?f?g.dk.correct:o?g.dk.wrong:t:t}),[t,d,f,o]);return(0,u.jsx)("div",{className:a()("duration-500 bg-white rounded-lg flex",{"opacity-0":d&&!o&&!f}),style:{border:"2px solid ".concat(x)},children:(0,u.jsxs)("div",{style:{backgroundColor:x},className:a()("flex items-center relative justify-center w-full duration-300",{"hover:opacity-75 cursor-pointer":!l&&!d}),onClick:r,children:[(0,u.jsx)("p",{className:a()("absolute top-0 right-0 m-2 w-8 h-8 flex justify-center items-center rounded-md",{"bg-white":(d||o)&&"Checkbox"===m}),style:{border:"2px solid #00000033"},children:o&&"Checkbox"===m?(0,u.jsx)(L.Z,{className:"text-grey-800",width:30}):i}),(0,u.jsx)("div",{className:"overflow-auto thin-scroll-bar mx-2 lg:mx-5 h-full flex items-center",children:(0,u.jsx)(B.Z,{content:n,className:"font-600 leading-tight text-xl lg:text-2xl m-auto"})}),o&&l&&(0,u.jsx)(s.q.div,{style:F({},p),className:"absolute h-full bg-black rounded-lg opacity-25 left-0"})]})})},Y=function(e){var t=e.problem,n=e.isHidden,r=e.isValidating,i=e.onSubmit,o=e.selectedChoiceIds,s=e.setSelectedChoiceIds,l=a()("row-span-2 lg:row-span-1 grid gap-2",{"grid-rows-2 lg:grid-cols-2 lg:grid-rows-1":2===(null===t||void 0===t?void 0:t.choices.length),"grid-rows-3 lg:grid-cols-3 lg:grid-rows-1":3===(null===t||void 0===t?void 0:t.choices.length),"grid-rows-4 lg:grid-cols-4 lg:grid-rows-1":4===(null===t||void 0===t?void 0:t.choices.length),"grid-rows-5 lg:grid-cols-5 lg:grid-rows-1":5===(null===t||void 0===t?void 0:t.choices.length),"grid-rows-6 lg:grid-cols-6 lg:grid-rows-1":6===(null===t||void 0===t?void 0:t.choices.length)});return(0,u.jsxs)("div",{className:a()("grid h-full mx-5 gap-3 duration-500",{"opacity-100":!n,"opacity-0":n}),style:{gridAutoRows:"1fr",gridTemplateRows:"49% 49%"},children:[(0,u.jsx)("div",{className:"flex items-center justify-center bg-black bg-opacity-50 rounded-lg overflow-auto thin-scroll-bar",children:(0,u.jsx)(B.Z,{content:null===t||void 0===t?void 0:t.description,className:"font-600 leading-tight text-xl lg:text-4xl p-5 max-h-full"})}),(0,u.jsx)("div",{className:l,children:null===t||void 0===t?void 0:t.choices.map((function(e,n){var l;return(0,u.jsx)(V,{buttonBgColor:g.ve[n],content:e.choice,keyupTriggerKey:"".concat(n+1),onClick:function(){return n=e.id,void(r||t.isAnswerValidated||("Multiple Choice"===t.problemType?(s([n]),i([n])):o.find((function(e){return e===n}))?s(o.filter((function(e){return e!==n}))):s([].concat((0,N.Z)(o),[n]))));var n},isSelected:!!o.find((function(t){return t===e.id})),isLoading:r,isAnswerValidated:null===t||void 0===t?void 0:t.isAnswerValidated,isCorrect:!(null===t||void 0===t||null===(l=t.correctChoices)||void 0===l||!l.find((function(t){return t===e.id}))),problemType:null===t||void 0===t?void 0:t.problemType},e.id)}))})]})},R=function(e){var t=e.image,n=e.onClick,r=e.title,i=e.disabled,o=void 0!==i&&i;return(0,u.jsxs)("div",{className:"flex flex-col items-center space-y-1 w-16",children:[(0,u.jsx)("button",{onClick:n,className:a()("focus:outline-none",{"opacity-50 cursor-not-allowed":o,"hover:opacity-75":!o}),disabled:o,children:(0,u.jsx)("img",{src:(0,P.staticFile)(t),className:"w-8"})}),(0,u.jsx)("p",{className:"font-600 text-sm",children:r})]})},K=n(45169),Q=function(e){var t=e.areProblemNavigationButtonsShown,n=e.handleNextProblemClick,r=e.handlePreviousProblemClick,i=e.isBackButtonDisabled,o=e.isBackgroundMusicOn,s=e.isPaused,l=e.setIsBackgroundMusicOn,c=e.setIsPaused,d=e.onSubmit,f=e.isSubmitButtonShown;return(0,u.jsxs)("div",{className:"mt-auto flex justify-between px-5 mb-3 select-none relative",children:[(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsx)(R,{image:"".concat(g.mu,"arena/buttons/music-").concat(o?"on":"off",".svg"),title:o?"Music on":"Music off",onClick:function(){return l((function(e){return!e}))}}),(0,u.jsx)(R,{image:"".concat(g.mu,"arena/buttons/").concat(s?"play":"pause",".svg"),title:s?"Resume":"Pause",onClick:function(){return c((function(e){return!e}))}})]}),f&&!s?(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)("p",{className:"flex items-center font-600 leading-tight ml-auto lg:mr-4",style:{width:"7rem"},children:"Select all the right answer(s)"}),(0,u.jsx)("div",{className:"flex justify-end items-center",children:(0,u.jsxs)("button",{className:"btn btn-orange flex items-center justify-center lg:space-x-2 px-3 lg:px-6",onClick:d,children:[(0,u.jsx)("span",{className:"hidden lg:block",children:"Submit"}),(0,u.jsx)(K.Z,{})]})})]}):t&&!s&&(0,u.jsxs)("div",{className:a()("grid grid-cols-2"),children:[(0,u.jsx)(R,{image:"".concat(g.mu,"arena/buttons/back.svg"),title:"Back",onClick:r,disabled:i||!t}),(0,u.jsx)(R,{image:"".concat(g.mu,"arena/buttons/next.svg"),title:"Next",onClick:n,disabled:!t})]})]})},U=function(e){var t=e.problemNumber,n=e.showProblemNumber;return(0,u.jsx)("div",{className:a()("bg-black bg-opacity-50 duration-500 text-center text-8xl w-full absolute top-0 bottom-0 my-auto h-32 flex justify-center",{"opacity-100":n,"opacity-0":!n}),children:t})},W=function(e){var t=e.attemptedProblemCount,n=e.totalProblems,r=e.currentPoints,i=(0,c.useMemo)((function(){return new C.qK(r)}),[]);return(0,c.useEffect)((function(){i.update({to:r}).start()}),[r]),(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between px-5 py-2 lg:pt-0 space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 w-full lg:w-80",children:[(0,u.jsxs)("p",{className:"whitespace-no-wrap font-600",children:["Q ",t,"/",n]}),(0,u.jsx)(I.x1,{percent:100*t/n,trailWidth:4,strokeWidth:4,strokeColor:"#4ABC96",trailColor:"#C3EDF5",strokeLinecap:"round",className:"h-3 lg:h-auto w-full"})]}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)(E.wY,{path:"".concat(g.mu,"arena/"),name:"points",alt:"a hand with stars",className:"w-8"}),(0,u.jsxs)("p",{className:"font-600",children:["Points:"," ",(0,u.jsx)(s.q.span,{children:i.to((function(e){return e.toFixed()}))})]})]})})]})};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){var t=e.isAnswerValidated,n=e.isCorrect,r=(0,s.useSpring)((function(){return{from:{y:100},reset:!0}})),i=(0,w.Z)(r,2),o=i[0],l=i[1];return(0,c.useEffect)((function(){t&&l.update({to:function(){var e=(0,j.Z)(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({y:0});case 2:return e.next=4,t({delay:1500});case 4:return e.next=6,t({y:100});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}).start()}),[t]),(0,u.jsx)(s.q.div,{style:G(G({},o),{},{backgroundColor:n?g.dk.correct:g.dk.wrong}),className:"flex items-end justify-center pb-5 h-20 absolute w-full bottom-0 font-600",children:n?"CORRECT":"WRONG ANSWER"})},J=function(e){var t=e.solutionContent,n=e.isPaused;return(0,u.jsxs)("div",{className:a()("flex flex-col items-center lg:justify-center py-5 px-5 mx-5 mb-5 h-full rounded-lg bg-black bg-opacity-50 duration-500",{"opacity-0":n}),children:[(0,u.jsx)("p",{className:"font-600 text-lg lg:text-3xl my-5 lg:my-10",children:"Explanation"}),(0,u.jsx)("div",{className:"flex items-center justify-center h-full lg:h-auto",children:(0,u.jsx)(B.Z,{content:t,className:"text-center text-lg lg:text-2xl"})})]})},$=n(59028),ee=n(46e3);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.quizId,n=e.currentProblemIndex,r=e.quizTitle,i=e.totalProblems,l=e.currentPoints,a=e.setCurrentPoints,d=e.attemptedProblems,f=e.setAttemptedProblems,m=e.setArenaState,p=e.quizSlug,x=e.problemIds,h=e.isLessonQuiz,b=(0,ee.Z)({playOnMount:!0,pathToAudioFile:"".concat(g.qu,"background-track.mp3")}),y=b.isBackgroundMusicOn,k=b.setIsBackgroundMusicOn,T=(0,c.useState)(!1),E=T[0],A=T[1],Z=(0,c.useState)(!1),q=Z[0],D=Z[1],I=(0,c.useState)(!1),M=I[0],B=I[1],L=(0,c.useState)(!1),_=L[0],F=L[1],V=(0,c.useState)(null),R=V[0],K=V[1],H=(0,c.useState)(""),G=H[0],te=H[1],re=(0,c.useState)(!0),ie=re[0],oe=re[1],se=(0,c.useState)(g.xX.previous),le=se[0],ae=se[1],ce=(0,c.useState)(!1),ue=ce[0],de=ce[1],fe=(0,c.useState)([]),me=fe[0],pe=fe[1],xe=(0,c.useState)((0,N.Z)(d.map((function(e){return{slideType:"problem",problem:e}})))),he=xe[0],ge=xe[1],be=(0,c.useState)(d.length),ve=be[0],ye=be[1],we=(0,c.useState)(n),je=we[0],Ne=we[1],ke=(0,c.useMemo)((function(){return new Audio((0,P.staticFile)("".concat(g.qu,"correct.mp3")))}),[]),Oe=(0,c.useMemo)((function(){return new Audio((0,P.staticFile)("".concat(g.qu,"wrong.mp3")))}),[]),Pe=(0,c.useCallback)(function(){var e=(0,j.Z)(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=2;break}return e.abrupt("return");case 2:return oe(!0),setTimeout((function(){return oe(!1)}),1500),F(!0),B(!1),e.prev=6,e.next=9,(0,P.CClient)("/api/v1/competitions/".concat(p,"/quiz-problems/").concat(t,"/"));case 9:if((n=e.sent).ok){e.next=12;break}throw new Error(n.statusText);case 12:return e.next=14,n.json();case 14:r=e.sent,i=ne(ne({},r),{},{submittedChoices:[],correctChoices:[]}),K(i),f((function(e){return[].concat((0,N.Z)(e),[i])})),F(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(6),v.Tb(e.t0),(0,P.showErrorAlert)({text:"Something went wrong while fetching the problem. Please refresh and try again."}),F(!1);case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),[_]),Ce=(0,c.useCallback)(function(){var e=(0,j.Z)(O().mark((function e(n){var r,i,s,l,c,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue){e.next=2;break}return e.abrupt("return");case 2:return de(!0),qe.stop(),e.prev=4,r={problem:R.id,quiz:t,submittedChoices:n,validationKey:R.validationKey,showedTimestamp:R.showedTimestamp,sessionKey:R.sessionKey},i="/api/v1/competitions/".concat(p,"/quiz-submissions/"),e.next=9,(0,P.CClient)(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 9:if((s=e.sent).ok){e.next=16;break}return e.t0=Error,e.next=14,(0,o.getAPIErrorString)(s,i);case 14:throw e.t1=e.sent,(0,e.t0)(e.t1);case 16:return e.next=18,s.json();case 18:l=e.sent,c="Wrong Answer"!==l.result,(0,o.playSound)(c?ke:Oe),u=ne(ne({},R),{},{isAnswerValidated:!0,submittedChoices:n,isCorrect:c,correctChoices:c?n:l.solution.map((function(e){return e.id}))}),K(u),0===je&&D(!0),B(!0),a((function(e){return e+l.pointsObtained})),te(l.solutionExplaination),de(!1),e.next=35;break;case 30:e.prev=30,e.t2=e.catch(4),v.Tb(e.t2),(0,P.showErrorAlert)({text:"Something went wrong. Please refresh and try again."}),de(!1);case 35:case"end":return e.stop()}}),e,null,[[4,30]])})));return function(t){return e.apply(this,arguments)}}(),[ue,null===R||void 0===R?void 0:R.id,ke,Oe]),Se=(0,c.useCallback)((function(){ae(g.xX.previous),1===ve&&D(!0),ye((function(e){return e-1}))}),[ve]),Te=(0,c.useCallback)((function(){ae(g.xX.next),D(!1),ve!==he.length-1||je!==i-1?(ve===he.length-1&&(Pe(x[je+1]),Ne((function(e){return e+1}))),ye((function(e){return e+1}))):m(g.N8.COMPLETE)}),[ve,je,he.length]);(0,c.useEffect)((function(){Pe(x[n])}),[]),(0,c.useEffect)((function(){var e,t;pe((null===(e=he[ve])||void 0===e||null===(t=e.problem)||void 0===t?void 0:t.submittedChoices)||[])}),[ve]),(0,c.useEffect)((function(){var e=(0,N.Z)(d.map((function(e){return{slideType:"problem",problem:e}})));null===R||void 0===R||!R.isAnswerValidated||null!==R&&void 0!==R&&R.isCorrect?ye(e.length-1):(e.push({slideType:"solution"}),ye(e.length-2)),ge(e)}),[d,null===R||void 0===R?void 0:R.isAnswerValidated,null===R||void 0===R?void 0:R.isCorrect]),(0,c.useEffect)((function(){var e;if((null===(e=d[d.length-1])||void 0===e?void 0:e.id)===(null===R||void 0===R?void 0:R.id)&&R){var t=d;t.pop(),f([].concat((0,N.Z)(t),[R]))}}),[R]);var Ee=(0,C.q_)((function(){return{from:{width:"100%",backgroundColor:"#3DCE4E"}}})),Ae=(0,w.Z)(Ee,2),Ze=Ae[0],qe=Ae[1];(0,c.useEffect)((function(){if(R)if(_||ie)qe.set({width:"100%",backgroundColor:"#3DCE4E"});else{var e=(0,$.ZP)(R.timeLimit,"HH:mm:ss"),t=e.second()+60*e.minute()+60*e.hour()*60;qe.update({to:{width:"0%",backgroundColor:"#EA2337"},config:{duration:1e3*t}}).start()}}),[_,ie]);var De=(0,C.Yz)(ve,(function(){return{from:{delay:0,opacity:0,x:100*le,scale:.9},enter:{delay:200,opacity:1,x:0,scale:1},leave:{delay:0,opacity:0,x:-100*le,scale:.9},config:{duration:200}}})),Ie=(0,w.Z)(De,1)[0];return(0,u.jsxs)("div",{className:"relative flex flex-col h-full overflow-hidden text-white",children:[(0,u.jsx)(s.q.div,{style:ne(ne({},Ze),{},{height:"8px",borderRadius:"10px"})}),(0,u.jsx)(W,{currentPoints:l,attemptedProblemCount:d.length,totalProblems:i}),(0,u.jsx)(U,{problemNumber:je+1,showProblemNumber:!E&&(ie||_)}),(0,u.jsxs)("div",{className:"relative w-full h-full",children:[Ie((function(e,t){var n,r,i;return(0,u.jsxs)(s.q.div,{style:ne(ne({},e),{},{position:"absolute"}),className:"w-full h-full pb-5",children:["problem"===(null===(n=he[t])||void 0===n?void 0:n.slideType)&&(0,u.jsx)(Y,{problem:null===(r=he[t])||void 0===r?void 0:r.problem,isHidden:ie||_||E,selectedChoiceIds:me,setSelectedChoiceIds:pe,isValidating:ue,onSubmit:Ce}),"solution"===(null===(i=he[t])||void 0===i?void 0:i.slideType)&&(0,u.jsx)(J,{solutionContent:G,isPaused:E})]})})),(0,u.jsx)(z,{isPaused:E,quizId:t,slug:p,points:l,quizTitle:r,remainingQuestions:i-d.length+(null!==R&&void 0!==R&&R.isAnswerValidated?0:1),setIsPaused:A,totalProblems:i,isLessonQuiz:h})]}),(0,u.jsx)(Q,{areProblemNavigationButtonsShown:M,handleNextProblemClick:Te,handlePreviousProblemClick:Se,isBackButtonDisabled:q,isBackgroundMusicOn:y,isPaused:E,setIsBackgroundMusicOn:k,setIsPaused:A,onSubmit:function(){return Ce(me)},isSubmitButtonShown:"Checkbox"===(null===R||void 0===R?void 0:R.problemType)&&!(null!==R&&void 0!==R&&R.isAnswerValidated)&&!ie}),(0,u.jsx)(X,{isAnswerValidated:null===R||void 0===R?void 0:R.isAnswerValidated,isCorrect:null===R||void 0===R?void 0:R.isCorrect}),(0,u.jsx)(S,{activeSlide:ve-je,totalSteps:null!==R&&void 0!==R&&R.isCorrect?g.kv.correct:g.kv.wrong,moveToNextSlide:Te,isAnswerValidated:null===R||void 0===R?void 0:R.isAnswerValidated,showProblemNumber:ie,isPaused:E})]})},ie=n(76250),oe=!0,se=function(e){var t=e.quizEventDetails,n=t.phases,i=t.title,o=t.slug,s=e.attemptedProblems,l=e.totalPointsObtained,a=g.N8.COMPLETE,d=g.N8.COUNT_DOWN,f=g.N8.FETCH_PROBLEMS,m=g.N8.SHOW_PROBLEMS,h=g.N8.LOADING,v=g.N8.USERNAME_INPUT,w=n[0].linkedEntity,j=w.remainingProblems,N=w.id,k=w.totalProblems,O=w.problemIds,C=w.playCount,S=w.isLessonQuiz,T=(0,A.T)().loggedIn,E=(0,c.useState)(h),Z=E[0],q=E[1],D=(0,c.useState)({numeric:null,go:null}),I=D[0],M=D[1],z=(0,c.useState)(l),B=z[0],L=z[1],_=(0,c.useState)(s),F=_[0],V=_[1];return(0,c.useEffect)((function(){if(M({go:new Audio((0,P.staticFile)("".concat(g.qu,"count-down-go.mp3"))),numeric:new Audio((0,P.staticFile)("".concat(g.qu,"count-down-numeric.mp3")))}),0!==j){var e=setTimeout((function(){T||(0,b.fp)(g.AI)?q(d):q(v)}),2e3);return function(){return clearTimeout(e)}}q(a)}),[]),(0,u.jsxs)(x.Z,{children:[Z===v&&(0,u.jsx)(y,{setNextStep:function(){return q(d)}}),(Z===f||Z===h)&&(0,u.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,u.jsx)(r.Z,{classes:"w-10 text-white"})}),Z===d&&(0,u.jsx)(p,{setNextStep:function(){return q(m)},goCountDownSound:I.go,numericCountDownSound:I.numeric}),Z===m&&(0,u.jsx)(re,{currentProblemIndex:F.length,quizId:N,quizSlug:o,quizTitle:i,totalProblems:k,currentPoints:B,setCurrentPoints:L,attemptedProblems:F,setAttemptedProblems:V,setArenaState:q,problemIds:O,isLessonQuiz:S}),Z===a&&(0,u.jsx)(ie.Z,{points:B,problems:F,quizTitle:i,quizId:N,slug:o,playCount:C,isLessonQuiz:S})]})}},25529:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quizzes/[quizName]/arena",function(){return n(22914)}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[3662,1790,7294,9238,3546,4745,2545,5057,9501,7820,7221,6064,286,6891,9774,2888,179],(function(){return t(78846),t(25529)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=arena-74141c7322c168d20c2e.js.map